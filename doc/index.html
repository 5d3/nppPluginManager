<html><head><title>Plugin Manager for Notepad++</title></head>
<body>
<h2>Plugin Manager</h2>
<hr/>
<a href="#features">Features</a>&nbsp;&nbsp;
<a href="#changes">Changes</a>&nbsp;&nbsp;
<a href="#download">Download</a>&nbsp;&nbsp;
<a href="#install">Installation</a>&nbsp;&nbsp;
<a href="#XML">XML File documentation</a>&nbsp;&nbsp;
<a href="#developer">Plugin Developers</a>&nbsp;&nbsp;
<a href="#changes">Submitting changes</a>&nbsp;&nbsp;
<a href="#credits">Credits</a>&nbsp;&nbsp;

<hr/>
<br/><br/>
Plugin Manager is a plugin for Notepad++ that allows you to install, update and remove plugins 
from Notepad++.  A centrally hosted XML file holds the list of plugins, that the plugin manager 
downloads and processes against the list of installed plugins.
<br/><br/>
<a name="features"></a>
<h3>Features</h3>

<ul>
 <li>Install, Update and Remove all existing plugins</li>
 <li>Notify when an installed plugin has an update available, and allow the user to update directly</li>
 <li>Calculate dependencies between plugins, any plugin can depend on another plugin, which 
     will be installed automatically if the user installs the initial plugin</li>
 <li>Install all supplemental files as well as the plugin file itself (e.g. config, doc, extra libraries)</li>
 <li>Automatic installation of the correct version (ANSI/Unicode) for your Notepad++</li>
 <li>Validation of DLLs copied, against a central list of valid files.  This slightly mitigates the risk of automatically downloading updates.</li>
 <li>Only plugins that are compatible with your Notepad++ are shown</li>
 <li>Plugins can be put into categories - a suggestion was made of "Official, Common and Others".  
     Currently all plugins are in the "Others" category, as I think there needs to be some 
	 agreement as to what determines an "Official" plugin and which plugins are "Common".</li>
 <li>Plugin Manager is able to update itself, and will notify the user when an update is available</li>
 <li>Proxies are supported, just change the setting</li>
 <li>Updates can be ignored, and the user will not be alerted to that update again, until 
     a further new version of that plugin is released.</li> 
 <li>The local plugin list file is only downloaded when something has changed - the MD5sum of the
 file is compared to the server's version, and if it is different, then a new copy is downloaded.</li>
 <li>New for 0.9: Works with plugins that are installed multiple times - update them all or individually</li>
</ul>
<br/><br/>
<a name="changes"></a>
<h3>Changes</h3>
0.9
<br><ul>
<li>Plugins that are installed multiple times are now supported, and can be updated individually</li>
<li>The updater (gpup.exe) now shows a progress bar, useful feedback if you've installed or updated a lot of plugins</li>
<li>User will be presented with a warning if there is an update to the plugin manager that they haven't taken 
     - it's always best to update the plugin manager first, then install or update other plugins</li>
<li>Rework of the variable handling in the XML - all variables are now processed at install time</li>
<li>New variable available, $PLUGINFILENAME$, which is (unsurprisingly) the filename of the installed plugin</li>
<li>Copy now supports a &quot;toFile&quot; attribute, which copies to a filename rather than a directory</li>
<li>Added facility in XML to set the name of an unknown plugin based on a hash value - so a plugin that 
    returns a dynamic name can still be supported (the dynamic name will still be shown in the list 
	to the user however, but install and update will be possible)
<li>The user-agent header for all downloads now contains the version number of the plugin manager</li>
<li>Fixed an issue if the user said no to restarting after removing plugins</li>
</ul>
<br/><br/>
So, I hope you find this plugin useful, and it gives a bit more exposure to plugins, and makes
it easier to install some of the bigger plugins.
<br/><br/>
I'm still cross checking the list of plugins, but if you don't see your plugin in the list, let me know
and I'll make sure it goes in.  

<br/><br/>
<a name="install"></a>
<h3>Installation</h3>
To install the plugin manager, simply download (links below) the .zip, and place the PluginManager.dll 
file in the Notepad++ plugins directory, and the gpup.exe in the updater directory under your 
Notepad++ program directory.  (e.g. &quot;C:\Program Files\Notepad++\updater&quot;)
<br/><br/>
In fact, if you prefer, you can just add the PluginManager.dll to the plugins directory, then 
do a reinstall of Plugin Manager from the plugin itself, which will place the file in the right place!
Of course, if you're already using an earlier version of the plugin manager, you'll be able to just update 
from the update tab (or when you get the notification that the update has happened).

<br/><br/>
<a name="download"></a>
<h3>Download links</h3>
Unicode: <a href="http://www.brotherstone.co.uk/npp/pm/PluginManager_0.9_UNI.zip">http://www.brotherstone.co.uk/npp/pm/PluginManager_0.9_UNI.zip</a>
<br/>
ANSI: <a href="http://www.brotherstone.co.uk/npp/pm/PluginManager_0.9_ANSI.zip">http://www.brotherstone.co.uk/npp/pm/PluginManager_0.9_ANSI.zip</a>
<br/>
Source code is on github: <a href="http://github.com/davegb3/nppPluginManager">http://github.com/davegb3/nppPluginManager</a>
<br/>
MD5 Sums:
<br/>
101858a4ccac81da4c16e6941d97b442 *PluginManager_0.9_ANSI.zip
<br/>
bcd1ec29b10863f1f40c40c7b5aaeb41 *PluginManager_0.9_UNI.zip
<br/><br/>
<u>Older versions</u>
<br/><u>0.8</u>
Unicode: <a href="http://www.brotherstone.co.uk/npp/pm/PluginManager_0.8_UNI.zip">http://www.brotherstone.co.uk/npp/pm/PluginManager_0.8_UNI.zip</a>
<br/>
ANSI: <a href="http://www.brotherstone.co.uk/npp/pm/PluginManager_0.8_ANSI.zip">http://www.brotherstone.co.uk/npp/pm/PluginManager_0.8_ANSI.zip</a>
<br/>
<hr/>
<a name="XML"></a>
<h3>XML File Structure and Features</h3>
The XML file is currently hosted on my own server, which will probably change to somewhere on SourceForge soon.
<br/><br/>
The XML file consists of &lt;plugin&gt; elements, each with a name attribute, containing the information about each plugin.  
The name attribute must match (include case) the name provided by the plugins getName() function, i.e.
that which appears in the Plugins menu in Notepad++.
<br/><br/>From 0.9 onwards, a <b>pluginNames</b> element can be used, containing <b>pluginName</b> elements, to 
specify a plugin's name, if it reports it dynamically.  The MD5sum is given of the file to identify it.
<br/>e.g.
<br/>&lt;pluginNames&gt;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;pluginName md5=&quot;48ae59abb0224ecc252d35e953ce0496&quot; name=&quot;NppExport&quot; comment=&quot;ansi 0.2.8&quot;/&gt;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;pluginName md5=&quot;ad32f0f59e70823de864387f65debcea&quot; name=&quot;NppExport&quot; comment=&quot;unicode 0.2.8&quot;/&gt;
<br/>&lt;/pluginNames&gt;

<br/><br/>
The following elements can be contained within the plugin element(all are optional)
<ul>
 <li><b>unicodeVersion</b>: The version number of the latest Unicode version.  If this element is not 
 present, then the plugin will not be shown to Unicode users</li>
 <li><b>ansiVersion</b>: The version number of the latest ANSI version.  If this element is not present,
 then the plugin will not be shown to ANSI users</li>
 <li><b>description</b>: A description of the plugin, which appears in the box below the list</li>
 <li><b>author</b>: The authors name (and optionally email address etc), which is also displayed below the list</li>
 <li><b>homepage</b>: The home page / web site of the plugin, also displayed in the box below the list</li>
 <li><b>sourceUrl</b>: The URL of the source of the plugin</li>
 <li><b>install</b>: This is the set of install steps.
 <br/>The steps can be contained in &lt;ansi&gt; or &lt;unicode&gt; elements, which means 
 that the steps are only performed for the relevant version.  A step which is not inside a unicode
 or ansi element will be performed for both.  Steps are run in the order in which they are listed
 in the XML.
 <br/>The steps that are available at the moment are:
 <ul>
		<li><b>download</b>:  This downloads from the URL contained within the elment. A zip file 
		is automatically unzipped to a temporary location.
		<br/>If the URL points to an HTML page which contains a direct link (like the old SourceForge
		download system... guess when I wrote this!) then the direct link can be searched for, and will
		be followed.  To do this, just add a filename attribute to the download element, containing the 
		filename that the direct link ends in.</li>
		<li><b>copy</b>:  This copies files from the temporary unzipped location to a destination
		directory.  A destination directory must start with a variable, either $PLUGINDIR$, $CONFIGDIR$
		or $NPPDIR$ which refer to the plugins directory, plugin config directory and the Notepad++ directory
		respectively.  In 0.9, a variable $PLUGINFILENAME$ is available that is the current installed filename 
		of the plugin.  Note that this will be empty if the plugin is not installed.
		Directories that do not exist will automatically be created.  The <b>from</b> attribute
		can be wildcarded, and the <b>to</b> attribute <i>must</i> be a directory.
		<br/>
		If <b>validate=&quot;true&quot;</b> is included in the copy, then the file's MD5sum is 
		checked against a known list of valid files at the server - an &quot;ok&quot; response lets
		it continue, and &quot;unknown&quot; response means the user is prompted that the file is
		unknown, and should not be copied.  The user can copy the file anyway, if they want. A 
		&quot;banned&quot; response means that the user is prompted that this file has been marked as
		dangerous or unstable, so should not be copied.  They can still choose to copy the file if they
		wish.
		<br/>
		If <b>backup=&quot;true&quot;</b> is include in the copy element, then if the destination
		file exists, it will be backed up to the same filename with &quot;.backup&quot; appended.  If
		the backup file exists, it will be backed up to a &quot;.backup2&quot; file, and so on.  This is 
		normally used for config files, such that user's config is not lost, but a &quot;good&quot; config 
		can be installed.
		<br/>
		In 0.9 onwards, the <b>toFile</b> attribute (case sensitive) can be used instead of the <b>to</b> attribute, to specify
		that the destination is a file, rather than a directory.  If <b>toFile</b> specifies an existing directory,
		or the name ends in a backslash (\), the destination is assumed to be a directory, and hence the file is 
		simply copied with the same name.  This can be used in conjunction with the $PLUGINFILENAME$ variable, 
		to support plugins that can be installed multiple times. e.g.
		<br/>
		&lt;copy from=&quot;ThePlugin.dll&quot; toFile=&quot;$PLUGINDIR$\$PLUGINFILENAME$&quot; /&gt;
		<br/>
		This will install normally (as toFile will spot that &quot;$PLUGINDIR$\&quot; is an existing directory,
		so copy the file as ThePlugin.dll, but updates will copy &quot;ThePlugin.dll&quot; to whatever that
		instance of the plugin is installed as (e.g. ThePlugin_Copy1.dll).
		</li>
</ul>
</li>
<li><b>versions</b>:  A collection of <b>version</b> elements that identify a version if the 
DLL does not report a version (or reports an incorrect version). Each <b>version</b> element contains 
a <b>number</b> attribute, which is the correct version number, and an <b>md5</b> attribute which
is the md5sum of the file. Optionally a <b>comment</b> attribute can be included to name the version 
(e.g. ANSI, UNICODE etc), which can help with maintaining the XML file.
</li>
<br/><br/>
Here's an example plugin definition, using f0dder's switcher plugin to switch between related files,
such s .h and .cpp :
<pre>
&lt;plugin name=&quot;switcher&quot;&gt;
		&lt;unicodeVersion&gt;1.0&lt;/unicodeVersion&gt;
		&lt;ansiVersion&gt;1.0&lt;/ansiVersion&gt;
		&lt;homepage&gt;http://f0dder.dcmembers.com/npp_plugins/&lt;/homepage&gt;
		&lt;description&gt;Switcher: a plugin to switch between 'associated' files. Currently it handles switching between asm&amp;lt;&amp;gt;inc, cpp&amp;lt;&amp;gt;h, cc&amp;lt;&amp;gt;h and c&amp;lt;&amp;gt;h. Useful when assigned to a hotkey.&lt;/description&gt;
		&lt;author&gt;f0dder&lt;/author&gt;
		&lt;versions&gt;
			&lt;version number=&quot;1.0&quot; md5=&quot;301c72341ba758b3cdfc8a56d576c7f0&quot; comment=&quot;ansi&quot;/&gt;
			&lt;version number=&quot;1.0&quot; md5=&quot;5a19bd60aa18e4454f1c4a6432ae5a72&quot; comment=&quot;unicode&quot;/&gt;
		&lt;/versions&gt;
		&lt;install&gt;
			&lt;download&gt;http://f0dder.dcmembers.com/npp_plugins/npp_plugins.zip&lt;/download&gt;
			&lt;ansi&gt;
				&lt;copy from=&quot;ansi\switcher.dll&quot; to=&quot;$PLUGINDIR$&quot; validate=&quot;true&quot;/&gt;
			&lt;/ansi&gt;
			&lt;unicode&gt;
				&lt;copy from=&quot;unicode\switcher.dll&quot; to=&quot;$PLUGINDIR$&quot; validate=&quot;true&quot;/&gt;
			&lt;/unicode&gt;
			&lt;copy from=&quot;readme.txt&quot; to=&quot;$PLUGINDIR$\doc\switcher&quot;/&gt;
		&lt;/install&gt;
&lt;/plugin&gt;
</pre>
<br/><br/>Note that you can have as many steps as you like within the &lt;ansi&gt; and &lt;unicode&gt;
elements, and you can have as many of these as you like also.
So:
<pre>
&lt;install&gt;
			&lt;unicode&gt;
				&lt;download&gt;http://downloads.sourceforge.net/sourceforge/npp-plugins/SpeechPlugin_0_2_1_dll.zip&lt;/download&gt;
				&lt;copy from=&quot;SpeechPlugin_0_2_1_dll\SpeechPlugin.dll&quot; to=&quot;$PLUGINDIR$&quot; validate=&quot;true&quot;/&gt;
			&lt;/unicode&gt;
			&lt;ansi&gt;
				&lt;download&gt;http://downloads.sourceforge.net/sourceforge/npp-plugins/SpeechPlugin_0_2_dll.zip&lt;/download&gt;
				&lt;copy from=&quot;SpeechPlugin_0_2_dll\SpeechPlugin.dll&quot; to=&quot;$PLUGINDIR$&quot; validate=&quot;true&quot;/&gt;
			&lt;/ansi&gt;
&lt;/install&gt;
</pre>
<br/>
is just as valid as, and does the same job as 
<br/>
<pre>
&lt;install&gt;
			&lt;unicode&gt;
				&lt;download&gt;http://downloads.sourceforge.net/sourceforge/npp-plugins/SpeechPlugin_0_2_1_dll.zip&lt;/download&gt;
			&lt;/unicode&gt;
			&lt;ansi&gt;
				&lt;download&gt;http://downloads.sourceforge.net/sourceforge/npp-plugins/SpeechPlugin_0_2_dll.zip&lt;/download&gt;
			&lt;/ansi&gt;
			
			&lt;unicode&gt;
				&lt;copy from=&quot;SpeechPlugin_0_2_1_dll\SpeechPlugin.dll&quot; to=&quot;$PLUGINDIR$&quot; validate=&quot;true&quot;/&gt;
			&lt;/unicode&gt;
			&lt;ansi&gt;
				&lt;copy from=&quot;SpeechPlugin_0_2_dll\SpeechPlugin.dll&quot; to=&quot;$PLUGINDIR$&quot; validate=&quot;true&quot;/&gt;
			&lt;/ansi&gt;
&lt;/install&gt;
</pre>
<br/> The second is obviously just longer, and the first would probably be preferred.
<hr/>
<a name="developer"></a>
<h3>Plugin developers</h3>
If you're a plugin developer or maintainer, and you don't want your plugin in the list, or you
want to wait a while until it's stable, then just let me know.  I won't be releasing any updated
plugins as soon as they are released (with the possible exception of the Plugin Manager), only after 
a few days when any bug reports have had chance to come in - unless there's an urgent fix to something. 
If you don't see your plugin listed after releasing it, or you need an urgent fix pushing out, feel 
free to drop me a mail or find me on #notepad++ on freenode (as davegb3) to give me a nudge.
<hr/>
<a name="changes"></a>
<h3>Submitting changes to the XML Plugin List</h3>
If something is not right, or you wish to add a plugin to the list, you are more than welcome to
send me (davegb at pobox.com) your update, but ideally you can fork the plugins.xml repository
from github, and send me a pull request, so I can merge your changes.  There are lots of videos
and guides on github to get you started if you've not used it before.
<br/><br/>
Repository: <br/>
<a href="http://github.com/davegb3/nppPlugins">http://github.com/davegb3/nppPlugins</a>
<br/><br/>
The current XML file is located here - <b><a href="http://npppm.brotherstone.co.uk/plugins.xml">http://npppm.brotherstone.co.uk/plugins.xml</a></b> if you want to check it out.
<hr/>

<a name="planned"></a>
<h3>Planned for Version 1.0</h3>
Not too much on this list at the moment, but:
<ul>
<li>A looping check if gpup goes crazy and doesn't remove its instructions file when it's finished</li>
<li>A proper remove - currently it just removes the plugin DLL. Really each plugin should have uninstallation steps</li>
</ul>
After 1.0, who knows:
<ul><li>Some form of plugin feedback / rating system, so users can rate the plugins and provide feedback 
right from Notepad++.
<li>7zip support.  Currently only zip files are supported, but 7zip is smaller.  I've moved this from 1.0 as I don't think it's that necessary, just a nice to have.</li>
<li>Providing fresh coffee?</li>
</ul>

Enjoy, and please let me know what you think, any feedback is gratefully received!  You can either post 
a comment to the Plugin Development forum, or usually find me in #notepad++ on freenode.  

<a name="credit"></a>
<hr/>
<h3>Credits</h3>
I must say a big thank you to Joce, who helped a lot in the development of this plugin.  
<br/>The good people on #notepad++ (especially joce and almostautomated) who've helped out with ideas and code reviews
<br/>Don Ho, for bringing us this great editor, and providing such a neat plugin architecture that developers can easily add stuff
</body>
</html>


	
		
		
		
		
		
		
		
		
<br/>